---
config:
  theme: redux
  layout: dagre
---
flowchart LR
    API["API Gateway"] --> ACC["Accounts Service"] & CF["CashFlow Service"] & DB["Dashboard Service"]
    ACC --> A1["GET /accounts/list<br>List all accounts<br>Query: skip, limit<br>Returns: Account[]"] & A2["GET /accounts/:id<br>Get account details<br>Param: account_id<br>Returns: Account"] & A3["POST /accounts/add<br>Create account<br>Body: AccountCreate<br>Returns: Account"] & A4["PATCH /accounts/:id<br>Update account<br>Param: account_id, Body: AccountEdit<br>Returns: Account"] & A5["DELETE /accounts/:id<br>Delete account<br>Param: account_id<br>Returns: Confirmation"]
    CF --> C1["GET /cashflow/list<br>List all transactions<br>Query: filters, skip, limit<br>Returns: CashFlow[]"] & C2["GET /cashflow/:id<br>Get transaction details<br>Param: cashflow_id<br>Returns: CashFlow"] & C3["POST /cashflow/add<br>Create transaction<br>Body: CashFlowCreate<br>Returns: CashFlow"] & C4["PATCH /cashflow/:id<br>Update transaction<br>Param: cashflow_id, Body: CashFlowEdit<br>Returns: CashFlow"] & C5["DELETE /cashflow/:id<br>Delete transaction<br>Param: cashflow_id<br>Returns: Confirmation"]
    DB --> D1["POST /dashboard/super<br>Get dashboard stats<br>Body: SuperDashboardQuery<br>Returns: DashboardStats"]